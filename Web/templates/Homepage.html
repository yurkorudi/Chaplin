<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flask App</title>
  <link rel="stylesheet" href="/static/css/globals.css">
  <link rel="stylesheet" href="/static/css/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body class="fade-in">
  <div class="home">
    <header class="header">
      <div class="logo">
        <div class="text-wrapper">Chaplin</div>
        <div class="div">cinema</div>
        <img class="blackhat" src="/static/img/hat.png" />
      </div>
      <div class="header-menu">
        <div class="topbtn-s">
          <form action="{{ url_for('movies')}}">
            <div class="button-wrapper"><button class="button" type="submit">Фільми</button></div>
          </form>
          <div class="button-wrapper"><button class="button">Про нас</button></div>
          <div class="dropdown">
            <div class="button-wrapper"><button class="button" class="button-wrapper" class="dropdown">Локація: {{ city
                }}</button>
              <div class="dropdown-content">
                {% for l, c in cities.items() %}
                <a href="{{url_for('homepage')}}?location={{l}}" style="--delay: 0s;">{{c}}</a>
                {% endfor %}
              </div>
            </div>
          </div>
          <div class="button-wrapper user">
            <button class="button">Увійти</button>
            <div class="ico"></div>
          </div>
        </div>
      </div>
  </div>
  </header>
  <!-- </div> -->
  <main class="main">
    <!-- Home page's base 360 degris's slider -->

    <section class="slider row">
      <div class="slider-body">
        <div class="slider-item" style="--j--:1"><img src="./static/img/photo1.jpg" alt="1"></div>
        <div class="slider-item" style="--j--:2"><img src="./static/img/photo2.jpg" alt="2"></div>
        <div class="slider-item" style="--j--:3"><img src="./static/img/photo3.jpg" alt="3"></div>
        <div class="slider-item" style="--j--:4"><img src="./static/img/photo4.jpg" alt="4"></div>
        <div class="slider-item" style="--j--:5"><img src="./static/img/photo5.jpg"></div>
        <div class="slider-item" style="--j--:6"><img src="./static/img/photo.jpg" alt="6"></div>
        <div class="slider-item" style="--j--:7"><img src="./static/img/social.png" alt="7"></div>
        <div class="slider-item" style="--j--:8"><img src="./static/img/hat.png" alt="7"></div>
      </div>
      <div class="button-wrapper">
        <button class="prev"><</button>
        <button class="next">></button>
      </div>

    </section>

    <!-- end home page's base 360 degris's slider -->
  </main>
  <footer class="footer">
    <div class="social_media">
      <p>Соцмережі</p>
      <a href="">Chaplin_cinema_lviv</a>
    </div>
    <div class="contacts">
      <p>Контакти</p>
      <p>Телефон: +38(050)2984715</p>
      <p>Адрес: проспект Червоної Калини, 81, Львів, Львівська область, 79066</p>
    </div>
    <div class="map">
      <p>Map</p>
      <a href="">Films</a>
      <a href="">About us</a>
    </div>
  </footer>
  </div>

  <script>
    var carousel = $(".slider-body"),
      currdeg = 0,
      autoplayInterval;

    $(".next").on("click", { d: "n" }, rotate);
    $(".prev").on("click", { d: "p" }, rotate);

    function rotate(e) {
      if (e.data.d == "n") {
        currdeg = currdeg - 45;
      }
      if (e.data.d == "p") {
        currdeg = currdeg + 45;
      }
      carousel.css({
        "-webkit-transform": "rotateY(" + currdeg + "deg)",
        "-moz-transform": "rotateY(" + currdeg + "deg)",
        "-o-transform": "rotateY(" + currdeg + "deg)",
        "transform": "rotateY(" + currdeg + "deg)"
      });
    }

    // Autoplay function
    function startAutoplay() {
      autoplayInterval = setInterval(function () {
        $(".next").trigger("click");
      }, 3000);  // Change 2000 to the desired interval in milliseconds
    }

    startAutoplay();  // Start autoplay initially

    // Stop autoplay on hover and resume on mouse leave
    carousel.on("mouseenter", function () {
      clearInterval(autoplayInterval);
    }).on("mouseleave", startAutoplay);

  </script>

</body>

</html>